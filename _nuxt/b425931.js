(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{529:function(e,t,n){"use strict";n.r(t);n(31);var o=n(11);Object.defineProperty(Array.prototype,"chunk",{value:function(e){for(var t=[],i=0;i<this.length;i+=e)t.push(this.slice(i,i+e));return t}});var r={head:function(){return{title:"Lezione - Plaive"}},transition:{name:"page",mode:"out-in"},data:function(){return{loading:!1,endTimeValid:null,lesson:{title:"",description:"",date:new Date,start:"",end:"",price:0,currency:"eur",maxUsers:"",minUsers:"",catagory:"",tags:[]},categories:[]}},methods:{validateEndTime:function(){""==this.lesson.start||this.lesson.start>=this.lesson.end?this.endTimeValid=!1:this.endTimeValid=null},getLesson:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("".concat(e.$config.LESSONS_BASE_URL,"/lesson/").concat(e.$route.params.id));case 2:n=t.sent,e.lesson.title=n.title,e.lesson.description=n.description,e.lesson.category=n.category,e.lesson.date=n.date,e.lesson.start=n.start,e.lesson.end=n.end,e.lesson.price=n.price,e.lesson.currency=n.currency,e.lesson.maxUsers=n.maxUsers,e.lesson.minUsers=n.minUsers,n.tags.map((function(t){e.lesson.tags.push(t.tag)}));case 14:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,n=e.lesson,"new"!==e.$route.params.id){t.next=11;break}return t.next=6,e.$axios.$post("".concat(e.$config.LESSONS_BASE_URL,"/lesson"),n);case 6:o=t.sent,e.$swal("Lezione salvata","","success"),e.$router.push("/lesson/".concat(o.id)),t.next=14;break;case 11:return t.next=13,e.$axios.$patch("".concat(e.$config.LESSONS_BASE_URL,"/lesson/").concat(e.$route.params.id),n);case 13:e.$swal("Lezione aggiornata","","success");case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(1);case 18:e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=["fax","tone","pottery","cable","gown","draw","get","coup","height","achievement","lift","property","conglomerate","acquisition","flawed","influence","wood","valid","elaborate","fuss","sweater","assignment","disco","driver","strength","suffer","obese","stroll","writer","continental"].chunk(5),e.categories=n,"new"===e.$route.params.id){t.next=5;break}return t.next=5,e.getLesson();case 5:case"end":return t.stop()}}),t)})))()}},l=n(24),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"osahan-form"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("title")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lesson.title,expression:"lesson.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.lesson.title},on:{input:function(t){t.target.composing||e.$set(e.lesson,"title",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("description")))]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.lesson.description,expression:"lesson.description"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:e.lesson.description},on:{input:function(t){t.target.composing||e.$set(e.lesson,"description",t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-3"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("date")))]),e._v(" "),n("b-form-datepicker",{attrs:{locale:"it",min:new Date},model:{value:e.lesson.date,callback:function(t){e.$set(e.lesson,"date",t)},expression:"lesson.date"}})],1)]),e._v(" "),n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("start")))]),e._v(" "),n("b-form-timepicker",{attrs:{locale:"it",hourCycle:"h23"},on:{input:e.validateEndTime},model:{value:e.lesson.start,callback:function(t){e.$set(e.lesson,"start",t)},expression:"lesson.start"}})],1)]),e._v(" "),n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("end")))]),e._v(" "),n("b-form-timepicker",{attrs:{locale:"it",hourCycle:"h23",state:e.endTimeValid},on:{input:e.validateEndTime},model:{value:e.lesson.end,callback:function(t){e.$set(e.lesson,"end",t)},expression:"lesson.end"}})],1)]),e._v(" "),n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("price")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lesson.price,expression:"lesson.price"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"any",readonly:""},domProps:{value:e.lesson.price},on:{input:function(t){t.target.composing||e.$set(e.lesson,"price",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("currency")))]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.lesson.currency,expression:"lesson.currency"}],staticClass:"custom-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.lesson,"currency",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"eur"}},[e._v("EUR (â‚¬)")])])])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("minViewers")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lesson.minUsers,expression:"lesson.minUsers"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.lesson.minUsers},on:{input:function(t){t.target.composing||e.$set(e.lesson,"minUsers",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-lg-2"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("maxViewers")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lesson.maxUsers,expression:"lesson.maxUsers"}],staticClass:"form-control",attrs:{type:"number",min:e.lesson.minUsers,step:"1"},domProps:{value:e.lesson.maxUsers},on:{input:function(t){t.target.composing||e.$set(e.lesson,"maxUsers",t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-5"},[n("div",{staticClass:"form-group"},[n("label",[e._v(e._s(e.$t("tags")))]),e._v(" "),n("b-form-tags",{model:{value:e.lesson.tags,callback:function(t){e.$set(e.lesson,"tags",t)},expression:"lesson.tags"}})],1)])]),e._v(" "),n("div",{staticClass:"row "},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"main-title"},[n("h6",[e._v(e._s(e.$t("categories")))])])])]),e._v(" "),n("b-form-group",[n("div",{staticClass:"row category-checkbox"},e._l(e.categories,(function(t,o){return n("div",{key:o,staticClass:"col-lg-2 col-xs-6 col-4"},e._l(t,(function(t){return n("div",{key:t},[n("b-form-radio",{attrs:{name:"lesson-category",value:t},model:{value:e.lesson.catagory,callback:function(t){e.$set(e.lesson,"catagory",t)},expression:"lesson.catagory"}},[e._v(e._s(t))])],1)})),0)})),0)])],1),e._v(" "),n("div",{staticClass:"osahan-area text-center mt-3"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:e.save}},[!0===e.loading?n("b-spinner",{attrs:{type:"grow",label:"Loading...",small:""}}):n("span",[e._v(e._s(e.$t("save")))])],1)]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"terms text-center mb-5"},[n("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("createLessonDisclaimerP1"))+" "),n("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("tos")))]),e._v(" and "),n("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("communityGuidelines")))]),e._v(".")]),e._v(" "),n("p",{staticClass:"hidden-xs mb-0"},[e._v(e._s(e.$t("createLessonDisclaimerP2")))])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);